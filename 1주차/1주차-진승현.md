## 들어가며 : 패러다임의 시대

### 패러다임의 시대

새로운 사상이나 개념을 선전하기 위해 사용되는 패러다임 전환이라는 말은 일상생활에서도 많이 들리는 용어 중 하나다.

### 프로그래밍 패러다임

프로그래밍 패러다임을 공유함으로써 불필요한 부분에 대한 의견 충돌을 피할 수 있고, 동일한 규칙과 방법을 공유할 수 있다.

프로그래밍 패러다임의 전환은 기존 패러다임의 전환과 약간 다른데, 이전 패러다임의 문제점을 보완하는 형태이기 때문이다.

## 1. 객체, 설계

이론이 먼저일까, 실무가 먼저일까?

마치 프로그래밍 언어를 처음 배울 때 `Hello World!` 를 가장 먼저 화면에 출력하듯, 소프트웨어 개발에선 이론보다는 실무가 먼저이며 실무에서 반복적으로 사용하던 부분을 이론화한 부분이 대부분이다.

### 티켓 판매 애플리케이션 구현하기

작은 이벤트 : 추첨을 통해 무료 공연 초대장 발송

- 이벤트에 당첨된 관람객 : 초대장을 티켓으로 교환 후 입장
- 이벤트에 당첨되지 않은 관람객 : 티켓을 구매해야만 입장

→ 관람객을 입장시키기 전, 이벤트 당첨 여부와 티켓 파냄 여부를 확인해야 한다.

여기서는 다음과 같은 클래스를 구현하였다.

- Intivation
- Ticket
- Bag : 초대장, 티켓, 현금을 보관
- Audience : 가방을 소지할 수 있음
- TicketOffice : 티켓의 목록, 판매 금액을 가지고 있음
- TicketSeller : 초대장을 티켓으로 교환해주거나, 티켓을 판매하는 역할
- Theater : 소극장

Theater class 는 TicketSeller 인스턴스 변수를 포함하고 있으며, 관람객을 맞이할 수 있도록 enter method 가 존재한다.

enter method 는 관람객의 티켓 여부를 확인하는 메소드이다.

- 관람객의 가방 안에 티켓이 있다면 → 티켓 전달
- 그렇지 않으면 돈을 내고 티켓을 사도록 함

### 무엇이 문제인가

모든 모듈은 실행이 가능해야 하고, 변경하기 쉬워야 하며, 이해하기 쉬워야 한다.

위에서 작성한 클래스의 경우, 현실 세계에서 발생하는 흐름과 맞지 않는다.

- 소극장이 관람객의 가방을 연다던지
- 소극장이 매표소에 있는 티켓에 접근한다던지

현실 세계의 경우, 관람객이 직접 자신의 가방에 있는 초대장을 꺼내 판매원에게 건넨다. 판매원은 매표소에 있는 티켓을 꺼내 관람객에게 건넨다.

이게 현실 세계의 일반적인 흐름이지만, 아까 작성된 코드의 경우 이러지 못했다.

그리고 가장 중요한 점은 변경하기가 어렵다는 점이다.

- 객체간 역할과 책임이 모호하여, 직접 접근하였기 때문

### 설계 개선하기

하나의 객체는 다른 객체에 대해 세세한 부분까지 알 필요는 없기 때문에 객체는 자율적이어야 한다. 즉 객체의 책임을 구분지을 필요가 있다.

여기서는 소극장이 매표소에 있는 티켓에 접근하던 코드를 판매원이 티켓을 전달하는 방식으로 코드를 수정하였다. 덕분에 소극장에 찾아온 관람객은 소극장에게 들어간다 ( enter ) 라는 메시지를 전달하면, 소극장은 판매원에게 티켓을 검사하라는 ( sellTo ) 메시지를 전달하기만 하면 된다.

즉 객체의 책임이 분리되었기 때문에 서로 간 깊게 접근하지 않으며, 내부가 어떻게 동작하는지 모르더라도 ( 캡슐화 ) 코드는 잘 동작한다. 그러면, 현재 sellTo 메소드에 존재하는 부분도 수정할 수 있지 않을까?

현재 판매원이 관람객의 가방에 직접적으로 접근하여 티켓을 검사하고 있다. 책임을 구분하고, 캡슐화한다면 이제는 관객이 초대장 여부를 판단하게 되며, 판매원은 관객에게 티켓 여부만 요청하면 된다.

즉 객체의 자율성을 높이기 위해선 객체 간 책임을 분리하고, 단지 서로 메시지를 전달할 뿐 내부 구현에 대해 알 필요가 없어야 한다.

객체지향 설계의 핵심은 적절한 객체에 적절한 책임을 할당하는 것이다. 객체란 자율적인 존재이며, 현실세계와 사뭇 다른 점 역시 존재한다.

예시로, 이 책에선 Bag 클래스가 티켓을 받아 초대장이 존재하는지를 판단한다. 하지만 현실세계에서는 가방은 단지 가방일 뿐, 무언가를 판단하지 않는다.

이러한 부분이 현실세계와 사뭇 다른 점이며, 객체란 스스로 생각하고 행동하는 자율적인 존재임을 뜻하는 점이기도 하다.

### 객체지향 설계

좋은 설계란, 변경되는 요구사항에 대응할 수 있는 설계를 좋은 설계라고 설명하고 있으며, 변경하기 쉬운 코드란 이해하기 쉬운 코드라고 볼 수 있다. ( 현실 세계에서 경험했던 내용을 코드로 보는 것 이니 ) 

객체란 자율적인 존재이며, 각각의 책임을 가지고 있고 다른 객체와 메시지를 전달하며 협력할 수 있다.

## 느낀점

처음 티켓 판매 애플리케이션 예제를 보고 좀 어지러웠습니다. 이해가 잘 안가기도 했고요. 그 다음에 이 내용을 풀어나가는 부분을 보며 다시한번 객체지향의 장점을 볼 수 있었습니다.

저도 꼭 객체지향스러운 코드를 작성하기 위해 열심히 공부해야겠단 생각이 드네요. 이번 해커톤할 때 객체지향스럽게 작성했는지는 약간 의문이긴 하지만.. 열심히 공부하겠습니다!
