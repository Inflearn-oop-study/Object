## 객체지향 프로그래밍

소프트웨어는 사용자가 원하는 어떤 문제를 해결하기 위해 만들어진다.

프로그래머의 역할은 클래스 작성자와 클라이언트 프로그래머로 구분할 수 있는데, 클래스 작성자는 클라이언트 프로그래머에게 필요한 부분만 공개하고 나머지는 숨김으로써 내부 구현을 마음대로 변경할 수 있다. 이를 구현 은닉 ( Implementation Hiding ) 이라고 부른다.

접근 제어 메커니즘을 통해 클래스의 내부와 외부를 명확하게 구분지을 수 있게 되며, 클래스 작성자는 내부 구현을 은닉할 수 있게 해준다.

할인 요금을 계산하는 과정에서 추상 클래스를 활용하였다. 이처럼 부모 클래스에 기본적인 흐름을 구현하고, 나중에 필요한 부분을 자식 클래스에게 위임하는 디자인 패턴을 Template Method 패턴이라고 한다.

코드의 의존성과 실행 시점의 의존성은 서로 다를 수 있다. 덕분에 더 유연하고 재사용가능한 객체지향 설계를 가능하게 하지만, 코드를 이해하기 위해선 의존하는 부분에 대한 이해가 필요하기 때문에 유연성과 코드의 가독성간 트레이드오프가 필요하다.

협력하는 객체가 전달하고자하는 메시지를 이해할 수 있다면, 그 객체가 어떤 클래스의 인스턴스인지는 신경쓰지 않는다. 덕분에 상속받은 클래스를 대신하여 부모 클래스로 협력 관계를 유지하는 것이 가능해진다. 추가로 자식 클래스는 상속을 통해 부모 클래스의 인터페이스를 물려받기 때문에 부모 클래스 대신 사용될 수 있다. 이처럼 자식 클래스가 부모 클래스를 대신하는 것을 업캐스팅이라고 부른다.

객체지향 프로그래밍에선 컴파일 시간에서의 의존성과 실행 시간에서의 의존성이 다를 수 있다. 그렇기 때문에 프로그램을 작성할 때 추상 클래스에 의존하지만, 컴파일 과정에서 추상 클래스를 상속받아 구체화한 클래스에 의존할 수 있게 된다. 이처럼 실행 시점에 메시지와 메서드를 바인딩하는 과정을 동적 바인딩이라 부르며, 동일한 메세지를 수신하더라도 객체의 타입에 따라 다르게 응답할 수 있는 능력을 다형성이라고 한다.

클래스 내에 예외 케이스를 최소화하고 일관성있는 코드를 작성하는 것이 더 객체지향을 따르는 방식이다. 

상속보다는 외부에서 의존성을 주입해주는 방식 ( 합성 ) 이 더 유연한 설계라고 볼 수 있지만, 상황에 맞게 사용하는 것이 바람직하다.

## 3. 역할, 책임, 협력

협력이란, 다른 객체에게 메시지를 통해 무언가를 요청하는 과정을 뜻한다. 요청을 받은 객체는 메시지를 어떻게 처리할지 스스로 결정해야하며, 메시지를 처리하던 도중 다른 객체의 필요성이 필요하다면 다른 객체에게 메시지를 요청할 수 있다. 이처럼 객체들 사이의 협력을 요청하는 흐름을 통해 애플리케이션의 기능이 구현된다.

책임이란, 협력에 참여하기 위해 객체가 수행하는 행동을 뜻한다. 객체는 자신이 맡은 책임을 수행하는데 필요한 정보를 알고있어야 하고, 그 책임을 수행하는 데 필요한 정보도 함께 알고있어야 한다.

책임을 할당하는 과정은 다음과 같다.
1. 어떤 메시지를 전달할지 선택하기
2. 메시지를 처리할 적절한 객체 ( 정보 전문가 ) 를 선택하기
3. 메시지를 처리하는 과정에서 해결할 수 없는 부분이 있을경우, 다른 정보 전문가에게 메시지를 보냄

역할은 동일한 책임을 가진 객체들을 하나로 묶는 추상화의 역할을 한다. 덕분에 중복 코드를 줄일 수 있으며, 더 유연한 협력을 가능하게 한다.